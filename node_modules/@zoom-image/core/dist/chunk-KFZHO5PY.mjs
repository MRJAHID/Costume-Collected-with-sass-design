import { b } from './chunk-B6SF2NEL.mjs';
import { a } from './chunk-ZT5SJQQV.mjs';
import { d, b as b$1, c } from './chunk-2DUGZGRE.mjs';

function L(t,s={}){let a$1=d(t),r={zoomFactor:s.zoomFactor??4,zoomImageSource:s.zoomImageSource??a$1.src},m=!1,c$1=a({zoomedImgStatus:b.checkImageLoaded(r.zoomImageSource)?"loaded":"idle"}),S=a$1.clientWidth*r.zoomFactor,b$2=a$1.clientHeight*r.zoomFactor,e=t.appendChild(document.createElement("img"));e.style.maxWidth="none",e.style.width=`${S}px`,e.style.height=`${b$2}px`,e.style.position="absolute",e.style.top="0",e.style.left="0";function y(o){m&&u(o);}let v=o=>{let n=t.clientWidth;return o>0?0:o+n*r.zoomFactor<n?-n*(r.zoomFactor-1):o},C=o=>{let n=t.clientHeight;return o>0?0:o+n*r.zoomFactor<n?-n*(r.zoomFactor-1):o};function u(o){e.style.display="block",b.createZoomImage({img:e,src:r.zoomImageSource,store:c$1});let n=t.getBoundingClientRect(),g=o.clientX-n.left,p=o.clientY-n.top,E=v(-g*r.zoomFactor+g),Z=C(-p*r.zoomFactor+p);e.style.transform=`translate(${E}px, ${Z}px)`;}function F(o){if(m){m=!1,e.style.display="none";return}u(o),m=!0;}let d$1=new AbortController,{signal:i}=d$1;return t.addEventListener("pointerdown",F,{signal:i}),t.addEventListener("pointerenter",b$1,{signal:i}),t.addEventListener("pointerleave",c,{signal:i}),t.addEventListener("pointermove",y,{signal:i}),{cleanup:()=>{d$1.abort(),t.removeChild(e),c$1.cleanup();},subscribe:c$1.subscribe,getState:c$1.getState}}

export { L as a };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=chunk-KFZHO5PY.mjs.map